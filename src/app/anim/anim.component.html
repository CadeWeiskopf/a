<div style="position: fixed; top: 0; left: 0; z-index: 999">
  Arrow Up/Down
  <input
    type="range"
    min="0"
    max="11"
    step="1"
    [defaultValue]="0"
    (input)="slide($event)"
  />
  <span>at frame{{ frame() }}</span>
</div>

<div>
  <app-canvas
    [minimize]="
      frame() >= rightFrames.length - 1 &&
      !(frame() === rightFrames.length - 2 && previousFrame() > frame())
    "
    [maximize]="frame() === rightFrames.length - 2 && previousFrame() > frame()"
  />
</div>

<div class="anim-wrapper">
  <div
    class="left"
    [style]="
      frame() >= rightFrames.length - 1
        ? 'transition: 500ms linear; width: 25%;'
        : frame() === rightFrames.length - 2
        ? 'transition: 500ms linear; width: 50%;'
        : ''
    "
  >
    <h1 class="words">
      <div>
        <span [@lCade]="getFrameTransition(lCadeFrames)">Cade</span>
      </div>
      <div>
        <span [@lW]="getFrameTransition(lWFrames)"> Weiskopf </span>
      </div>
    </h1>
  </div>

  <div class="right">
    <h2 class="words" [@words]="getFrameTransition(wordsFrames)">
      <div [@cade]="getFrameTransition(cadeFrames)" style="flex-grow: 1">
        <span [@cadeSpan]="getFrameTransition(cadeSpanFrames)">
          <!-- [class]="'trail' + (frame() === 1 ? ' trail-expand' : '')" -->
          cade
        </span>
      </div>
      <div [@w]="getFrameTransition(wFrames)" style="max-width: 100%">
        <span [@wSpan]="getFrameTransition(wSpanFrames)">
          <!-- [class]="'trail' + (frame() === 3 ? ' trail-expand' : '')" -->
          w
        </span>
      </div>
      <div
        [@dot]="getFrameTransition(dotFrames)"
        style="display: flex; justify-content: flex-end; position: relative"
      >
        <span
          [@dotSpan]="getFrameTransition(dotSpanFrames)"
          style="position: relative; overflow: visible"
        >
          {{ dotTextPhases[max(min(frame(), dotTextPhases.length - 1), 0)] }}
        </span>
      </div>
      <div [@dev]="getFrameTransition(devFrames)" style="position: relative">
        <span [@devSpan]="getFrameTransition(devSpanFrames)">
          dev{{ devTextPhases[max(min(frame(), devTextPhases.length - 1), 0)] }}
        </span>
      </div>
    </h2>
    <section class="end-card" [style]="frame() >= 11 ? 'opacity: 1' : ''">
      <h3 style="all: unset">
        <span class="extra-line-height">Let's work together</span>
      </h3>
      <div style="display: flex; flex-direction: column">
        <a
          mat-stroked-button
          href="/resume.pdf"
          download
          [disabled]="frame() < totalFrames"
          >Download resume</a
        >
        <a
          mat-stroked-button
          href="https://cadew.dev/contact"
          [disabled]="frame() < totalFrames"
          >Contact me</a
        >
      </div>
    </section>
  </div>
</div>
